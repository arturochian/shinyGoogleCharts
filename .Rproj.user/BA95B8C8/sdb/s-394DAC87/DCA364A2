{
    "contents" : "#' Generate a Google Chart object\n#' \n#' @export\ngoogleChart   <- function(data, type = 'Table', options = list()){\n  formatted_data  <- googleVis:::gvisFormat(data)\n  dataLabels      <- toJSON(formatted_data$data.type)\n  dataJSON        <- formatted_data$json\n  optionsJSON     <- toJSON(options)\n  return(list(dataLabels = dataLabels, dataJSON = dataJSON, chartType = type, options = optionsJSON))\n}\n\n#' Render A Google Chart\n#'\n#' @param expr an expression that returns a data frame\n#' @param env The environment in which to evaluate \\code{expr}\n#' @param qoted is expr a quoted expression (with \\code{quote()})? This is useful if you want to save an expression in a variable.\n#' @export\nrenderGoogleChart <- function(expr, env=parent.frame(), quoted = FALSE){\n  func <- exprToFunction(expr, env, quoted)\n  function(){ \n    val <- func()\n    val\n  }\n}\n\n#' Google Chart output element\n#'\n#' Render a \\link{renderGoogleChart} within an application page.\n#' @param outputId output variable to read the plot from\n#' @return a plot output element that can be included in a panel\n#' @examples\n#' # Show a Google Line Chart\n#' mainPanel(\n#'   googleChartOutput(\"myLineChart\")\n#' )\n#' @export\ngoogleChartOutput <- function(outputId){tagList(\n  singleton(HTML('<script type=\"text/javascript\" src=\"//www.google.com/jsapi\"></script>')),\n  singleton(includeScript(paste0(getwd(),'/www/googleChart.js'))),\n  HTML(paste0('<div id = \"', outputId, '\" class=\"shinyGoogleChart\" style = \"width:100%; height:100%; overflow-y: hidden; overflow-x: hidden\"></div>'))\n)}\n\n#' Shiny Chart Editor output element\n#' \n#' @export\ngoogleChartEditor <- function(id, target, type = 'Table', options = '{}', label = 'Edit Chart'){tagList(\n  singleton(HTML('<script type=\"text/javascript\" src=\"//www.google.com/jsapi\"></script>')),\n  singleton(includeScript(paste0(getwd(),'/www/googleChart.js'))),\n  \n  #ChartEditor Button  \n  HTML(paste0(\"<div class = 'chartEditor btn' style='display:inline;' onclick='openChartEditor(\\\"\", target, \n     \"\\\");' data-target = '\", target, \"' options = '\", options,\n     \"' chartType = '\", type,\"' id = '\", id,\"'>\",label,\"</div> \")),\n\n  singleton(tags$script(\n       \"var openChartEditor = function(chartId){\n        var wrapper = $('#'+chartId).data('chart');\n        var editor = new google.visualization.ChartEditor();\n        google.visualization.events.addListener(editor, 'ok',\n             function() {\n              var new_wrapper = editor.getChartWrapper();\n              new_wrapper.draw($('#'+chartId));\n              $('#'+chartId).data('chart', new_wrapper);\n              $('#'+chartId+'_editor').attr('chartType', new_wrapper.getChartType());\n              $('#'+chartId+'_editor').attr('options', JSON.stringify(new_wrapper.getOptions()));\n              $('#'+chartId+'_editor').trigger('change.chartEditorInputBinding');\n            }\n        );\n        editor.openDialog(wrapper);\n        };\"))\n            \n)}",
    "created" : 1398551932798.000,
    "dirty" : false,
    "encoding" : "UTF-8",
    "folds" : "",
    "hash" : "3032591501",
    "id" : "DCA364A2",
    "lastKnownWriteTime" : 1398717632,
    "path" : "~/Desktop/dev_software/shinyGoogleCharts/R/googleChart.R",
    "project_path" : "R/googleChart.R",
    "properties" : {
    },
    "source_on_save" : false,
    "type" : "r_source"
}